"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=(e=require("jsonld"))&&"object"==typeof e&&"default"in e?e.default:e,t=function(e,r,t){void 0===r&&(r=""),void 0===t&&(t=""),this.ok=e,this.error={type:r,details:t}};"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var n={},o="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node?r.documentLoaders.node():r.documentLoaders.xhr(),u=function(e){try{return e in n?Promise.resolve({contextUrl:null,document:n[e],documentUrl:e}):Promise.resolve(o(e)).then((function(r){return n[e]=r.document,r}))}catch(e){return Promise.reject(e)}},i=function(e){return!["@id","@type"].includes(e)},s=require("node-fetch"),c=function(e){return function(e){for(var r=[],t=0;t<e.length;t+=1)"{"===e[t]&&r.push(t);return r}(e).map((function(r){return function(e,r){var t=e[r];if("{"!==t)throw new Error("start must be the index of an opening bracket");for(var n=1,o=r+1,u=e.length;0!==n&&o<u;){var i=e[o];"{"===i?n+=1:"}"===i&&(n-=1),o+=1,t+=i}try{return JSON.parse(t)}catch(e){return null}}(e,r)})).filter(Boolean)},l=function(e){return"@context"in e};exports.CheckResult=t,exports.check=function(e,n){void 0===n&&(n=u);try{return Promise.resolve(function(o,u){try{var s=(c="string"==typeof e?JSON.parse(e):e,Promise.resolve(r.expand(c,{documentLoader:n})).then((function(e){return Promise.resolve(r.compact(e,c["@context"],{documentLoader:n})).then((function(e){var r=Object.keys(c).filter(i),n=new Set(Object.keys(e)),o=r.filter((function(e){return!n.has(e)}));return 0===o.length?new t(!0):new t(!1,"MISSING_PROPERTIES_IN_CONTEXT",JSON.stringify(o))}))})))}catch(e){return u(e)}var c;return s&&s.then?s.then(void 0,u):s}(0,(function(e){return new t(!1,e.name,e.message)})))}catch(e){return Promise.reject(e)}},exports.defaultDocumentLoader=u,exports.getAllJsonFromString=c,exports.getAllJsonLdFromString=function(e){return c(e).filter((function(e){return l(e)}))},exports.getFiles=function(e,r,t){void 0===t&&(t="HEAD");try{return Promise.resolve(function(e){try{return Promise.resolve(s("https://api.github.com/repos/"+e).then((function(e){return e.json()})))}catch(e){return Promise.reject(e)}}(e+"/"+r+"/git/trees/"+t+"?recursive=1")).then((function(e){return e.tree.filter((function(e){return"blob"===e.type}))}))}catch(e){return Promise.reject(e)}},exports.isJsonLdObject=l;
//# sourceMappingURL=jsonld-checker.cjs.production.min.js.map
